<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<BorderPane fx:id="root"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.the_pathfinders.CalmActivitiesController"
            prefWidth="900" prefHeight="600"
            styleClass="calm-root">

    <!-- Header with hamburger and back button -->
    <top>
        <HBox alignment="CENTER_LEFT"
              spacing="12"
              styleClass="header-bar"
              BorderPane.alignment="CENTER">
            <children>
                <Button fx:id="hamburgerBtn" text="â˜°" styleClass="hamburger-btn"/>
                <Button fx:id="backBtn" text="Back" styleClass="back-btn"/>
            </children>
        </HBox>
    </top>

    <!-- Left navigation sidebar - Hidden by default -->
    <left>
        <VBox fx:id="sidebarPanel"
              styleClass="nav-panel"
              prefWidth="200"
              spacing="10"
              alignment="CENTER"
              translateX="-200">
            <padding>
                <Insets top="24" right="18" bottom="24" left="18"/>
            </padding>
            <children>
                <Label text="Activities" styleClass="nav-title"/>
                <Region VBox.vgrow="ALWAYS"/>
                <Button fx:id="drawingBtn"
                        text="ðŸŽ¨ Drawing"
                        maxWidth="Infinity"
                        styleClass="nav-btn"/>
                <Button fx:id="breathingBallBtn"
                        text="ðŸ«§ Breathing"
                        maxWidth="Infinity"
                        styleClass="nav-btn"/>
                <Button fx:id="bubblePopperBtn"
                        text="ðŸ’­ Bubbles"
                        maxWidth="Infinity"
                        styleClass="nav-btn"/>
                <Button fx:id="typingGameBtn"
                        text="âŒ¨ï¸ Typing Zen"
                        maxWidth="Infinity"
                        styleClass="nav-btn"/>
                <Button fx:id="gratitudeGardenBtn"
                        text="ðŸŒ¸ Garden"
                        maxWidth="Infinity"
                        styleClass="nav-btn"/>
                <Region VBox.vgrow="ALWAYS"/>
            </children>
        </VBox>
    </left>

    <!-- Main content area - Inner Voice Console -->
    <center>
        <StackPane styleClass="welcome-area">
            <!-- Background with drifting notes -->
            <Pane fx:id="driftingNotesPane" pickOnBounds="false" mouseTransparent="true"/>
            
            <!-- Inner Voice Console -->
            <VBox alignment="CENTER" spacing="30" maxWidth="600">
                <VBox alignment="CENTER" spacing="12">
                    <Label text="Find Your Calm" 
                           style="-fx-font-size: 36px; -fx-font-weight: 800; -fx-text-fill: #5a6b7d;"/>
                </VBox>
                
                <!-- Console Content -->
                <VBox fx:id="consoleContent" alignment="CENTER" spacing="25">
                    
                    <!-- Step 1: Inner Voice Prompt -->
                    <VBox fx:id="step1Container" alignment="CENTER" spacing="20" visible="true" managed="true">
                        <Label fx:id="promptLabel1" styleClass="prompt-text" wrapText="true" maxWidth="550" alignment="CENTER"/>
                        
                        <TextField fx:id="wordInput" styleClass="inner-voice-input" promptText="Type one word..." 
                                  maxWidth="400" alignment="CENTER" visible="false" managed="false"/>
                        
                        <Label fx:id="responseLabel1" styleClass="response-text" wrapText="true" maxWidth="550" 
                               alignment="CENTER" visible="false" managed="false"/>
                    </VBox>
                    
                    <!-- Step 2: Micro-Letter Prompt -->
                    <VBox fx:id="step2Container" alignment="CENTER" spacing="20" visible="false" managed="false">
                        <Label fx:id="promptLabel2" styleClass="prompt-text" wrapText="true" maxWidth="550" alignment="CENTER"/>
                        
                        <TextField fx:id="letterInput" styleClass="inner-voice-input" promptText="One sentence..." 
                                  maxWidth="500" alignment="CENTER" visible="false" managed="false"/>
                        
                        <Label fx:id="responseLabel2" styleClass="response-text" wrapText="true" maxWidth="550" 
                               alignment="CENTER" visible="false" managed="false"/>
                    </VBox>
                    
                    <!-- Folding Letter Animation Container -->
                    <StackPane fx:id="letterAnimationPane" alignment="CENTER" prefWidth="300" prefHeight="200" 
                              visible="false" managed="false">
                        <VBox fx:id="letterCard" styleClass="letter-card" alignment="CENTER" spacing="10" maxWidth="280">
                            <padding>
                                <Insets top="20" bottom="20" left="20" right="20"/>
                            </padding>
                            <Label fx:id="letterText" styleClass="letter-content" wrapText="true" alignment="CENTER"/>
                        </VBox>
                    </StackPane>
                    
                </VBox>
            </VBox>
        </StackPane>
    </center>
</BorderPane>
