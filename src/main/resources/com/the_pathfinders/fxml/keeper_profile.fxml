<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<Pane fx:id="root" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/25" fx:controller="com.the_pathfinders.KeeperProfileController">
   <!-- Background Gradient -->
   <Pane fx:id="backgroundPane" styleClass="background">
      <Rectangle fx:id="gradientRect" styleClass="gradient-background" />
   </Pane>
   
   <!-- Main Container -->
   <StackPane fx:id="mainContainer" layoutX="0.0" layoutY="90.0" prefWidth="1000.0" prefHeight="610.0" alignment="CENTER">
      <!-- Profile Content -->
      <VBox fx:id="profileContainer" maxWidth="900.0" prefHeight="610.0" styleClass="profile-container" spacing="0.0">
         
         <!-- Header Section -->
         <HBox styleClass="profile-header" prefHeight="60.0" alignment="CENTER" spacing="15.0">
            <padding><Insets left="20.0" right="20.0" /></padding>
            <Button fx:id="backButton" text="â† Back" styleClass="back-button" onAction="#handleBack" />
            <Region HBox.hgrow="ALWAYS" />
            <Label text="Keeper Profile" styleClass="profile-title">
               <font><Font name="System Bold" size="24.0" /></font>
            </Label>
            <Region HBox.hgrow="ALWAYS" />
            <Region prefWidth="80.0" />
         </HBox>
         
         <!-- Content Area -->
         <ScrollPane fitToWidth="true" styleClass="profile-scroll-pane" VBox.vgrow="ALWAYS">
            <VBox spacing="30.0" styleClass="profile-content">
               <padding><Insets top="30.0" left="40.0" right="40.0" bottom="30.0" /></padding>
               
               <!-- Profile Image Section -->
               <VBox alignment="CENTER" spacing="15.0" styleClass="image-section">
                  <StackPane prefHeight="150.0" prefWidth="150.0">
                     <ImageView fx:id="profileImageView" fitHeight="150.0" fitWidth="150.0" pickOnBounds="true" preserveRatio="true"/>
                     <Circle radius="75.0" fill="transparent" stroke="#FF7B7B" strokeWidth="3.0" />
                  </StackPane>
                  
                  <HBox alignment="CENTER" spacing="10.0">
                     <Button fx:id="changeImageBtn" text="ðŸ“· Change Image" styleClass="change-image-btn" onAction="#handleChangeImage" />
                     <Button fx:id="removeImageBtn" text="âœ— Remove" styleClass="remove-image-btn" onAction="#handleRemoveImage" visible="false" managed="false" />
                  </HBox>
                  
                  <Label fx:id="imageInfoLabel" text="JPG only â€¢ Max 600Ã—600px" styleClass="image-info" wrapText="true" alignment="CENTER">
                     <font><Font size="11.0" /></font>
                  </Label>
               </VBox>
               
               <!-- Form Fields -->
               <GridPane hgap="20.0" vgap="20.0" styleClass="form-grid">
                  
                  <!-- Short Name -->
                  <Label text="Short Name" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="0">
                     <font><Font size="13.0" /></font>
                  </Label>
                  <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.columnSpan="2">
                     <TextField fx:id="shortNameField" promptText="Enter short name" styleClass="profile-input" maxWidth="400.0" />
                     <Label fx:id="shortNameError" styleClass="error-label" visible="false" managed="false" />
                  </VBox>
                  
                  <!-- Email (Read-only) -->
                  <Label text="Email" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="1">
                     <font><Font size="13.0" /></font>
                  </Label>
                  <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.columnSpan="2">
                     <TextField fx:id="emailField" editable="false" styleClass="profile-input-readonly" maxWidth="400.0" />
                  </VBox>
                  
                  <!-- Phone Number with Country Code -->
                  <Label text="Phone Number" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="2">
                     <font><Font size="13.0" /></font>
                  </Label>
                  <HBox spacing="10.0" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="2" alignment="CENTER_LEFT">
                     <ComboBox fx:id="countryCodeCombo" promptText="Code" styleClass="country-code-combo" prefWidth="120.0" prefHeight="40.0" editable="false" />
                     <TextField fx:id="phoneField" promptText="Phone number" styleClass="profile-input" prefWidth="270.0" prefHeight="40.0" />
                  </HBox>
                  <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.columnSpan="2">
                     <Label fx:id="phoneError" styleClass="error-label" visible="false" managed="false" />
                  </VBox>
                  
                  <!-- Blood Group -->
                  <Label text="Blood Group" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="4">
                     <font><Font size="13.0" /></font>
                  </Label>
                  <VBox spacing="5.0" GridPane.columnIndex="1" GridPane.rowIndex="4" GridPane.columnSpan="2">
                     <ComboBox fx:id="bloodGroupCombo" promptText="Select blood group" styleClass="blood-group-combo" prefWidth="200.0" prefHeight="40.0" editable="false" />
                     <Label fx:id="bloodGroupError" styleClass="error-label" visible="false" managed="false" />
                  </VBox>
                  
                  <columnConstraints>
                     <ColumnConstraints minWidth="150.0" prefWidth="150.0" />
                     <ColumnConstraints minWidth="400.0" prefWidth="400.0" />
                     <ColumnConstraints />
                  </columnConstraints>
               </GridPane>
               
               <!-- Action Buttons -->
               <HBox alignment="CENTER" spacing="15.0" styleClass="action-buttons">
                  <padding><Insets top="10.0" /></padding>
                  <Button fx:id="cancelBtn" text="Cancel" styleClass="cancel-btn" onAction="#handleCancel" prefWidth="120.0" prefHeight="40.0" />
                  <Button fx:id="saveBtn" text="ðŸ’¾ Save Changes" styleClass="save-btn" onAction="#handleSave" prefWidth="150.0" prefHeight="40.0" />
               </HBox>
               
            </VBox>
         </ScrollPane>
         
      </VBox>
   </StackPane>
   
   <!-- Logo -->
   <ImageView fitHeight="60.0" fitWidth="120.0" layoutX="20.0" layoutY="20.0" pickOnBounds="true" preserveRatio="true">
      <image><Image url="@../../../assets/images/logo.png" /></image>
   </ImageView>
</Pane>
