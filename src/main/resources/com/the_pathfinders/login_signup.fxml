<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Path?>

<AnchorPane fx:id="root" xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.the_pathfinders.LoginSignupController"
            stylesheets="@login_signup.css"
            prefWidth="900" prefHeight="600">

    <children>

        <!-- HEADER (logo + subtitle) â€” centered in the upper area -->
        <StackPane AnchorPane.topAnchor="20.0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
            <!-- Logo on top -->
            <ImageView fx:id="logoImage" fitHeight="140" preserveRatio="true" />
            <!-- Subtitle below with some bottom padding -->
            <Label fx:id="subtitleLabel" styleClass="subtext" text="A place for refreshing the soul"
                   StackPane.alignment="BOTTOM_CENTER" />
        </StackPane>

                        <!-- Theme toggle (top-right) -->
                        <ToggleButton fx:id="themeToggle" text="Dark" styleClass="theme-toggle"
                                                    AnchorPane.topAnchor="12.0" AnchorPane.rightAnchor="18.0"/>

        <!-- FROSTED PANEL -->
        <VBox fx:id="rightPane" alignment="CENTER" spacing="22"
              AnchorPane.leftAnchor="250" AnchorPane.rightAnchor="250"
              AnchorPane.topAnchor="195" AnchorPane.bottomAnchor="60"
              styleClass="pane">

            <!-- Tab row: fixed-width buttons + border overlay -->
            <StackPane fx:id="tabStack" alignment="CENTER" minHeight="50">
                <HBox fx:id="menuBar" alignment="CENTER" minWidth="300" maxWidth="300">
                    <Button fx:id="loginBtn" text="Login" styleClass="tab-text" 
                            minWidth="140" prefWidth="140" maxWidth="140"
                            minHeight="45" prefHeight="45" maxHeight="45"/>
                    <Region minWidth="20" prefWidth="20" maxWidth="20"/>
                    <Button fx:id="signUpBtn" text="Sign Up" styleClass="tab-text"
                            minWidth="140" prefWidth="140" maxWidth="140"
                            minHeight="45" prefHeight="45" maxHeight="45"/>
                </HBox>
                <!-- Path drawn OVER the tab texts -->
                <Pane fx:id="borderLayer" pickOnBounds="false" minWidth="300" maxWidth="300">
                    <Path fx:id="borderPath"/>
                </Pane>
            </StackPane>

            <!-- LOGIN FORM -->
            <VBox fx:id="loginForm" alignment="CENTER" spacing="12" maxWidth="560">
                <TextField     fx:id="tfLoginId"        promptText="Soul ID"   maxWidth="560"/>
                <PasswordField fx:id="pfLoginKey"       promptText="Soul Key"  maxWidth="560"/>
                <TextField     fx:id="tfLoginKeyVisible" promptText="Soul Key" visible="false" managed="false" maxWidth="560"/>
                <CheckBox      fx:id="cbShowLoginKey" text="Show Key"/>

                <!-- Primary action (fixed slot) -->
                <Region minHeight="6"/>
                <!-- Fixed size container for button -->
                <HBox alignment="CENTER">
                    <Button fx:id="btnLoginSubmit" text="Login" styleClass="primary-button"
                           minWidth="220" prefWidth="220" maxWidth="220"
                           minHeight="50" prefHeight="50" maxHeight="50"/>
                </HBox>
                <!-- Reserve space so it never jumps -->
                <Label fx:id="lblLoginStatus" minHeight="18" maxWidth="560" alignment="CENTER"/>
            </VBox>

            <!-- SIGNUP FORM -->
            <VBox fx:id="signupForm" alignment="CENTER" spacing="12" maxWidth="560"
                  visible="false" managed="false">

                <TextField fx:id="tfSoulName" promptText="Name" maxWidth="560"/>
                <TextField fx:id="tfDob" promptText="DD/MM/YYYY" maxWidth="560"/>
                <TextField fx:id="tfSoulId" promptText="Soul ID" maxWidth="560"/>
                <PasswordField fx:id="pfSoulKey" promptText="Soul Key" maxWidth="560"/>
                <TextField fx:id="tfSoulKeyVisible" promptText="Soul Key" visible="false" managed="false" maxWidth="560"/>

                <HBox alignment="CENTER" spacing="8">
                    <ComboBox fx:id="cbCountryCode" prefWidth="140"/>
                    <TextField fx:id="tfMobile" promptText="Phone Number" HBox.hgrow="ALWAYS" />
                </HBox>

                <CheckBox fx:id="cbShowSignupKey" text="Show Key"/>

                <Region minHeight="6"/>
                <!-- Fixed size container for button -->
                <HBox alignment="CENTER">
                    <Button fx:id="btnSubmit" text="Sign Up" styleClass="primary-button"
                           minWidth="220" prefWidth="220" maxWidth="220"
                           minHeight="50" prefHeight="50" maxHeight="50"/>
                </HBox>
                <Label fx:id="lblSubmitStatus" minHeight="18" maxWidth="560" alignment="CENTER"/>
            </VBox>

        </VBox>
    </children>
</AnchorPane>