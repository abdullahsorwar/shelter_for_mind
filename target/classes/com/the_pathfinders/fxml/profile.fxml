<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<AnchorPane fx:id="root" prefWidth="1100" prefHeight="640" stylesheets="/com/the_pathfinders/css/profile.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.the_pathfinders.ProfileController">
    <children>
        <!-- Wrapper for all content that will be blurred -->
        <AnchorPane fx:id="contentWrapper" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">
            <children>
                <!-- Side Panel -->
                <VBox fx:id="sidePanel" prefWidth="60" maxWidth="220" minWidth="60" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.bottomAnchor="0" styleClass="side-panel" spacing="10">
                    <children>
                        <Button fx:id="menuBtn" text="---" styleClass="menu-btn" />
                        <VBox fx:id="menuItems" spacing="8" visible="false" managed="false" styleClass="menu-items">
                            <children>
                                <Button fx:id="basicInfoMenuBtn" text="Basic Information" styleClass="menu-item" />
                                <Button fx:id="journalsMenuBtn" text="Published Journals" styleClass="menu-item" />
                                <Button fx:id="achievementsMenuBtn" text="Achievements" styleClass="menu-item" />
                            </children>
                        </VBox>
                    </children>
                </VBox>
                <!-- Main Area -->
                <AnchorPane fx:id="mainArea" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="60" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0" styleClass="main-area">
                    <children>
                        <!-- Header -->
                        <HBox fx:id="headerBox" spacing="14" AnchorPane.topAnchor="18" AnchorPane.leftAnchor="24" alignment="CENTER_LEFT">
                            <children>
                                <ImageView fx:id="profileImage" fitWidth="72" fitHeight="72" preserveRatio="true" />
                                <VBox spacing="4">
                                    <Label fx:id="titleLabel" text="My Profile" styleClass="header-title" />
                                    <Label fx:id="subtitleLabel" text="Basic Information" styleClass="header-subtitle" />
                                </VBox>
                            </children>
                        </HBox>
                        <Button fx:id="backBtn" text="âŸµ Back" AnchorPane.topAnchor="18" AnchorPane.rightAnchor="24" styleClass="back-btn" />
                        <Separator AnchorPane.topAnchor="110" AnchorPane.leftAnchor="24" AnchorPane.rightAnchor="24" />
                        <!-- Pages Container -->
                        <StackPane fx:id="pagesContainer" AnchorPane.topAnchor="120" AnchorPane.leftAnchor="24" AnchorPane.rightAnchor="24" AnchorPane.bottomAnchor="80" styleClass="pages-container">
                            <children>
                                <!-- Basic Info Page -->
                                <ScrollPane fx:id="basicInfoScroll" fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" visible="true" managed="true" styleClass="basic-info-scroll">
                                    <content>
                                        <VBox fx:id="basicInfoFields" spacing="12" />
                                    </content>
                                </ScrollPane>
                                <!-- Journals Page -->
                                <VBox fx:id="journalsPage" spacing="12" visible="false" managed="false">
                                    <children>
                                        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="journals-scroll">
                                            <content>
                                                <VBox fx:id="journalsList" spacing="10" />
                                            </content>
                                        </ScrollPane>
                                    </children>
                                </VBox>
                                <!-- Achievements Page -->
                                <VBox fx:id="achievementsPage" alignment="CENTER" spacing="16" visible="false" managed="false">
                                    <children>
                                        <Label text="Coming soon" styleClass="coming-soon" />
                                    </children>
                                </VBox>
                            </children>
                        </StackPane>
                        <!-- Edit/Save buttons only for Basic Info -->
                        <HBox fx:id="editSaveBox" spacing="10" AnchorPane.bottomAnchor="24" AnchorPane.leftAnchor="24" visible="true" managed="true">
                            <children>
                                <Button fx:id="editInfoBtn" text="Edit" styleClass="edit-btn" />
                                <Button fx:id="saveInfoBtn" text="Save" disable="true" styleClass="save-btn" />
                            </children>
                        </HBox>
                    </children>
                </AnchorPane>
            </children>
        </AnchorPane>
        <!-- First-time overlay (stays sharp while background blurs) -->
        <StackPane fx:id="firstTimeOverlay" visible="false" managed="false" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0" styleClass="overlay-root">
            <children>
                <VBox fx:id="overlayContentBox" spacing="20" alignment="CENTER" styleClass="overlay-box">
                    <ImageView fx:id="warningIcon" fitWidth="64" fitHeight="64" preserveRatio="true" />
                    <Label text="Heads up" styleClass="overlay-title" />
                    <Label text="You're here for the first time. Want to add some basic info now?" wrapText="true" styleClass="overlay-text" />
                    <HBox spacing="18" alignment="CENTER">
                        <Button fx:id="overlayYesBtn" text="Yes" styleClass="overlay-yes" />
                        <Button fx:id="overlayNoBtn" text="No" styleClass="overlay-no" />
                    </HBox>
                </VBox>
            </children>
        </StackPane>
    </children>
</AnchorPane>
